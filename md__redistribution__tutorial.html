<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>xmsmesh: Redistribution_Tutorial</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_html_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">xmsmesh
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md__redistribution__tutorial.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Redistribution_Tutorial </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#Redistribution_Tutorial">Redistribution Tutorial</a><ul><li class="level2"><a href="#Intro_Redistribution">Introduction</a></li>
<li class="level2"><a href="#Example_Redistribution_Simple_Polygon">Example - Redistribute Simple Polygon to Constant Size</a></li>
<li class="level2"><a href="#Example_Redistribution_Size_Function">Example - Redistribute Simple Polygon with a Size Function</a></li>
<li class="level2"><a href="#Example_Redistribution_Curvature">Example - Redistribute Simple Polyline using Curvature</a></li>
<li class="level2"><a href="#Example_Redistribution_Curvature_Polygon">Example - Redistribute Simple Polygon using Curvature</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="Redistribution_Tutorial"></a>
Redistribution Tutorial</h1>
<h2><a class="anchor" id="Intro_Redistribution"></a>
Introduction</h2>
<p>The purpose of this tutorial is to provide explanation on how to use the classes defined in xmsmesh to redistribute the points on a polyline according to a size function or curvature.</p>
<h2><a class="anchor" id="Example_Redistribution_Simple_Polygon"></a>
Example - Redistribute Simple Polygon to Constant Size</h2>
<p>This first example shows how to redistribute a single polygon. A picture of the example is shown below. Notice that the polygon is a simple square from (0,0) to (100,100). Also notice that the point spacing along the boundary is a constant value of 10. We will redistribute the boundary to a new constant size of 20.0.</p>
<div class="image">
<img src="tutMesh_SimplePolygon_Input.png" alt="tutMesh_SimplePolygon_Input.png"/>
<div class="caption">
Simple Polygon with boundary spacing = 10.0</div></div>
<p> The basic steps to redistribute polygon points are:</p><ol type="1">
<li>Define the polygon as a vector of points.</li>
<li>Setup the MePolyRedistributePts class and call the Redistribute method.</li>
</ol>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="class_tut_redistribution_intermediate_tests.html#a9eb3277fc6ae36c29d318ccaa7e9dda3">TutRedistributionIntermediateTests::test_Example_SimplePolygon_Redistribute</a>()</div><div class="line">{</div><div class="line">  <span class="comment">// Outer polygon points are in clockwise order</span></div><div class="line">  xms::VecPt3d polygon = {{0, 0},    {0, 10},   {0, 20},    {0, 30},   {0, 40},   {0, 50},</div><div class="line">                          {0, 60},   {0, 70},   {0, 80},    {0, 90},   {0, 100},  {10, 100},</div><div class="line">                          {20, 100}, {30, 100}, {40, 100},  {50, 100}, {60, 100}, {70, 100},</div><div class="line">                          {80, 100}, {90, 100}, {100, 100}, {100, 90}, {100, 80}, {100, 70},</div><div class="line">                          {100, 60}, {100, 50}, {100, 40},  {100, 30}, {100, 20}, {100, 10},</div><div class="line">                          {100, 0},  {90, 0},   {80, 0},    {70, 0},   {60, 0},   {50, 0},</div><div class="line">                          {40, 0},   {30, 0},   {20, 0},    {10, 0},   {0, 0}};</div><div class="line">  <span class="comment">// create the redistribution class</span></div><div class="line">  BSHP&lt;xms::MePolyRedistributePts&gt; redist = <a class="code" href="classxms_1_1_me_poly_redistribute_pts.html#a022428867bdc83af2bb0550a752390bd">xms::MePolyRedistributePts::New</a>();</div><div class="line">  <span class="comment">// set the redistribution class to use a constant spacing</span></div><div class="line">  redist-&gt;SetConstantSizeFunc(20.0);</div><div class="line">  <span class="comment">// redistribute the points</span></div><div class="line">  xms::VecPt3d outPts = redist-&gt;Redistribute(polygon);</div><div class="line">  {</div><div class="line">    xms::VecPt3d expectedPts = {</div><div class="line">      {0, 0, 0},    {0, 20, 0},   {0, 40, 0},   {0, 60, 0},   {0, 80, 0},    {0, 100, 0},</div><div class="line">      {20, 100, 0}, {40, 100, 0}, {60, 100, 0}, {80, 100, 0}, {100, 100, 0}, {100, 80, 0},</div><div class="line">      {100, 60, 0}, {100, 40, 0}, {100, 20, 0}, {100, 0, 0},  {80, 0, 0},    {60, 0, 0},</div><div class="line">      {40, 0, 0},   {20, 0, 0},   {0, 0, 0}};</div><div class="line">    <a class="codeRef" doxygen="/home/conan/Doxygen/xmscore.tag:https://aquaveo.github.io/xmscore/" href="https://aquaveo.github.io/xmscore/_test_tools_8h.html#ad074895a54cf874aed416e323758f355">TS_ASSERT_DELTA_VECPT3D</a>(expectedPts, outPts, 1e-3);</div><div class="line">  }</div><div class="line">} <span class="comment">// TutRedistributionIntermediateTests::test_Example_SimplePolygon_Redistribute</span></div></div><!-- fragment --><p> An image of the redistributed polygon from this example is shown below.</p>
<div class="image">
<img src="tutRedist_SimplePolygon_Output.png" alt="tutRedist_SimplePolygon_Output.png"/>
<div class="caption">
Redistributed output polygon with boundary spacing = 20.0</div></div>
 <h2><a class="anchor" id="Example_Redistribution_Size_Function"></a>
Example - Redistribute Simple Polygon with a Size Function</h2>
<p>This example show how to redistribute a polygon boundary using a size function. The size function is specified using <a class="elRef" doxygen="/home/conan/Doxygen/xmsinterp.tag:https://aquaveo.github.io/xmsinterp/" href="https://aquaveo.github.io/xmsinterp/classxms_1_1_interp_base.html">xms::InterpBase</a>. The InterpBase class performs spatial interpolation from points and triangles. This example uses a simple polygon with a set of 5 points and 4 triangles to define a linear size function.A picture of the example is shown below.</p>
<div class="image">
<img src="tutRedist_Size_Function_Input.png" alt="tutRedist_Size_Function_Input.png"/>
<div class="caption">
Simple polygon with linear size function</div></div>
 <div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="class_tut_redistribution_intermediate_tests.html#ae3bb6506e15a62d5f8ef3587240bc208">TutRedistributionIntermediateTests::test_Example_Redistribute_SizeFunction</a>()</div><div class="line">{</div><div class="line">  <span class="comment">// Outer polygon points are in clockwise order</span></div><div class="line">  xms::VecPt3d polygon = {{0, 0},    {0, 10},   {0, 20},    {0, 30},   {0, 40},   {0, 50},</div><div class="line">                          {0, 60},   {0, 70},   {0, 80},    {0, 90},   {0, 100},  {10, 100},</div><div class="line">                          {20, 100}, {30, 100}, {40, 100},  {50, 100}, {60, 100}, {70, 100},</div><div class="line">                          {80, 100}, {90, 100}, {100, 100}, {100, 90}, {100, 80}, {100, 70},</div><div class="line">                          {100, 60}, {100, 50}, {100, 40},  {100, 30}, {100, 20}, {100, 10},</div><div class="line">                          {100, 0},  {90, 0},   {80, 0},    {70, 0},   {60, 0},   {50, 0},</div><div class="line">                          {40, 0},   {30, 0},   {20, 0},    {10, 0},   {0, 0}};</div><div class="line"></div><div class="line">  <span class="comment">// create a size function interpolator</span></div><div class="line"></div><div class="line">  <span class="comment">// These are the interpolator point locations. The size is specified by the</span></div><div class="line">  <span class="comment">// &quot;z&quot; component of the points.</span></div><div class="line">  BSHP&lt;xms::VecPt3d&gt; sPts(<span class="keyword">new</span> xms::VecPt3d());</div><div class="line">  *sPts = {{-10, -10, 10}, {-10, 110, 10}, {110, 110, 1}, {110, -10, 10}, {60, 70, 1}};</div><div class="line">  <span class="comment">// These are the interpolator triangles.</span></div><div class="line">  <span class="comment">// Triangles are specified as point indexes in ccw order.  You can see the</span></div><div class="line">  <span class="comment">// 4 triangles in the vector below.</span></div><div class="line">  BSHP&lt;xms::VecInt&gt; sTris(<span class="keyword">new</span> xms::VecInt());</div><div class="line">  *sTris = {0, 4, 1, 1, 4, 2, 2, 4, 3, 3, 4, 0};</div><div class="line">  <span class="comment">// create a linear interpolator for the size function</span></div><div class="line">  BSHP&lt;xms::InterpBase&gt; linear(<a class="codeRef" doxygen="/home/conan/Doxygen/xmsinterp.tag:https://aquaveo.github.io/xmsinterp/" href="https://aquaveo.github.io/xmsinterp/classxms_1_1_interp_linear.html#a8e04b96fee6e50961ba278d892373911">xms::InterpLinear::New</a>());</div><div class="line">  <span class="comment">// sets the points and the triangles for the interpolator</span></div><div class="line">  linear-&gt;SetPtsTris(sPts, sTris);</div><div class="line">  <span class="comment">// create the redistribution class</span></div><div class="line">  BSHP&lt;xms::MePolyRedistributePts&gt; redist = <a class="code" href="classxms_1_1_me_poly_redistribute_pts.html#a022428867bdc83af2bb0550a752390bd">xms::MePolyRedistributePts::New</a>();</div><div class="line">  <span class="comment">// set the redistribution class to use a constant spacing</span></div><div class="line">  redist-&gt;SetSizeFunc(linear);</div><div class="line">  <span class="comment">// redistribute the points</span></div><div class="line">  xms::VecPt3d outPts = redist-&gt;Redistribute(polygon);</div><div class="line">  {</div><div class="line">    xms::VecPt3d expectedPts = {</div><div class="line">      {0.000, 0.000, 0},    {0.000, 8.794, 0},    {0.000, 17.574, 0},   {0.000, 26.355, 0},</div><div class="line">      {0.000, 35.135, 0},   {0.000, 43.916, 0},   {0.000, 52.697, 0},   {0.000, 61.477, 0},</div><div class="line">      {0.000, 70.258, 0},   {0.000, 79.038, 0},   {0.000, 87.819, 0},   {0.000, 96.599, 0},</div><div class="line">      {5.230, 100.000, 0},  {13.015, 100.000, 0}, {20.214, 100.000, 0}, {26.898, 100.000, 0},</div><div class="line">      {33.102, 100.000, 0}, {38.864, 100.000, 0}, {44.212, 100.000, 0}, {49.181, 100.000, 0},</div><div class="line">      {53.794, 100.000, 0}, {58.079, 100.000, 0}, {62.059, 100.000, 0}, {65.757, 100.000, 0},</div><div class="line">      {69.192, 100.000, 0}, {72.382, 100.000, 0}, {75.348, 100.000, 0}, {78.104, 100.000, 0},</div><div class="line">      {80.666, 100.000, 0}, {83.046, 100.000, 0}, {85.260, 100.000, 0}, {87.319, 100.000, 0},</div><div class="line">      {89.234, 100.000, 0}, {91.015, 100.000, 0}, {92.672, 100.000, 0}, {94.214, 100.000, 0},</div><div class="line">      {95.649, 100.000, 0}, {96.986, 100.000, 0}, {98.230, 100.000, 0}, {99.390, 100.000, 0},</div><div class="line">      {100.000, 99.523, 0}, {100.000, 98.406, 0}, {100.000, 97.223, 0}, {100.000, 95.963, 0},</div><div class="line">      {100.000, 94.609, 0}, {100.000, 93.156, 0}, {100.000, 91.594, 0}, {100.000, 89.915, 0},</div><div class="line">      {100.000, 88.111, 0}, {100.000, 86.172, 0}, {100.000, 84.087, 0}, {100.000, 81.844, 0},</div><div class="line">      {100.000, 79.431, 0}, {100.000, 76.836, 0}, {100.000, 74.044, 0}, {100.000, 71.040, 0},</div><div class="line">      {100.000, 67.806, 0}, {100.000, 64.327, 0}, {100.000, 60.580, 0}, {100.000, 56.547, 0},</div><div class="line">      {100.000, 52.206, 0}, {100.000, 47.530, 0}, {100.000, 42.497, 0}, {100.000, 37.076, 0},</div><div class="line">      {100.000, 31.239, 0}, {100.000, 24.951, 0}, {100.000, 18.178, 0}, {100.000, 10.884, 0},</div><div class="line">      {100.000, 3.028, 0},  {94.462, 0.000, 0},   {85.520, 0.000, 0},   {76.579, 0.000, 0},</div><div class="line">      {67.638, 0.000, 0},   {58.696, 0.000, 0},   {49.755, 0.000, 0},   {40.814, 0.000, 0},</div><div class="line">      {31.873, 0.000, 0},   {22.931, 0.000, 0},   {13.990, 0.000, 0},   {5.049, 0.000, 0},</div><div class="line">      {0.000, 0.000, 0}};</div><div class="line">    <a class="codeRef" doxygen="/home/conan/Doxygen/xmscore.tag:https://aquaveo.github.io/xmscore/" href="https://aquaveo.github.io/xmscore/_test_tools_8h.html#ad074895a54cf874aed416e323758f355">TS_ASSERT_DELTA_VECPT3D</a>(expectedPts, outPts, 1e-3);</div><div class="line">  }</div><div class="line"></div><div class="line">} <span class="comment">// TutMeshingIntermediateTests::test_Example_ScalarPaving</span></div></div><!-- fragment --><p> An image of the redistributed polygon from this example is shown below.</p>
<div class="image">
<img src="tutRedist_Size_Function_Output.png" alt="tutRedist_Size_Function_Output.png"/>
<div class="caption">
Redistributed polygon from size function</div></div>
 <h2><a class="anchor" id="Example_Redistribution_Curvature"></a>
Example - Redistribute Simple Polyline using Curvature</h2>
<p>This example shows how to redistribute a polyline using curvature. The following variables must be specified when using curvature: feature size, mean spacing, minimum curvature, and smoothing. "Feature size" is the size of the smallest feature in the polyline to be detected. "Mean spacing" is the mean spacing between the distributed points. "Minimum curvature" is the value of the curvature to be used instead of 0 in straight lines. "Smoothing" detemines if the curvatures are to be averaged by a rolling 0.25-0.5-0.25 weighted rolling average. A picture of the input polyline is shown below. We will redistribute with a feature size of 3.0, a mean spacing of 0.5, a minimum curvature of 0.0001, and no smoothing.</p>
<div class="image">
<img src="tutRedist_Curvature_Input.png" alt="tutRedist_Curvature_Input.png"/>
<div class="caption">
Input polyline</div></div>
 <div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="class_tut_redistribution_intermediate_tests.html#a4e64db8d0bfade59ff5e1973a28b2080">TutRedistributionIntermediateTests::test_Example_Redistribute_Curvature</a>()</div><div class="line">{</div><div class="line">  xms::VecPt3d polyline = {{0, 0, 0},   {5, 5, 0},   {10, 10, 0}, {15, 5, 0},</div><div class="line">                           {20, 10, 0}, {21, 10, 0}, {25, 0, 0}};</div><div class="line">  <span class="comment">// create the redistribution class</span></div><div class="line">  BSHP&lt;xms::MePolyRedistributePts&gt; redist = <a class="code" href="classxms_1_1_me_poly_redistribute_pts.html#a022428867bdc83af2bb0550a752390bd">xms::MePolyRedistributePts::New</a>();</div><div class="line">  <span class="comment">// set the redistribution class to curvature</span></div><div class="line">  <span class="keywordtype">double</span> featureSize(3.0), meanSpacing(0.5), minimumCurvature(.0001);</div><div class="line">  <span class="keywordtype">bool</span> smooth(<span class="keyword">false</span>);</div><div class="line">  redist-&gt;SetUseCurvatureRedistribution(featureSize, meanSpacing, minimumCurvature, smooth);</div><div class="line">  <span class="comment">// redistribute the points</span></div><div class="line">  xms::VecPt3d outPts = redist-&gt;Redistribute(polyline);</div><div class="line">  {</div><div class="line">    xms::VecPt3d expectedPts = {</div><div class="line">      {0.000, 0.000, 0},   {9.526, 9.526, 0},   {9.582, 9.582, 0},   {9.639, 9.639, 0},</div><div class="line">      {9.695, 9.695, 0},   {9.751, 9.751, 0},   {9.808, 9.808, 0},   {9.864, 9.864, 0},</div><div class="line">      {9.921, 9.921, 0},   {9.977, 9.977, 0},   {10.034, 9.966, 0},  {10.090, 9.910, 0},</div><div class="line">      {10.146, 9.854, 0},  {10.203, 9.797, 0},  {10.259, 9.741, 0},  {10.316, 9.684, 0},</div><div class="line">      {10.372, 9.628, 0},  {10.429, 9.571, 0},  {10.485, 9.515, 0},  {14.481, 5.519, 0},</div><div class="line">      {14.537, 5.463, 0},  {14.594, 5.406, 0},  {14.650, 5.350, 0},  {14.707, 5.293, 0},</div><div class="line">      {14.763, 5.237, 0},  {14.819, 5.181, 0},  {14.876, 5.124, 0},  {14.932, 5.068, 0},</div><div class="line">      {14.989, 5.011, 0},  {15.045, 5.045, 0},  {15.102, 5.102, 0},  {15.158, 5.158, 0},</div><div class="line">      {15.215, 5.215, 0},  {15.271, 5.271, 0},  {15.327, 5.327, 0},  {15.384, 5.384, 0},</div><div class="line">      {15.440, 5.440, 0},  {15.497, 5.497, 0},  {19.484, 9.484, 0},  {19.518, 9.518, 0},</div><div class="line">      {19.552, 9.552, 0},  {19.587, 9.587, 0},  {19.621, 9.621, 0},  {19.655, 9.655, 0},</div><div class="line">      {19.690, 9.690, 0},  {19.724, 9.724, 0},  {19.759, 9.759, 0},  {19.793, 9.793, 0},</div><div class="line">      {19.827, 9.827, 0},  {19.862, 9.862, 0},  {19.896, 9.896, 0},  {19.930, 9.930, 0},</div><div class="line">      {19.965, 9.965, 0},  {19.999, 9.999, 0},  {20.047, 10.000, 0}, {20.096, 10.000, 0},</div><div class="line">      {20.144, 10.000, 0}, {20.193, 10.000, 0}, {20.242, 10.000, 0}, {20.790, 10.000, 0},</div><div class="line">      {20.838, 10.000, 0}, {20.886, 10.000, 0}, {20.934, 10.000, 0}, {20.982, 10.000, 0},</div><div class="line">      {21.011, 9.972, 0},  {21.029, 9.928, 0},  {21.047, 9.883, 0},  {21.065, 9.839, 0},</div><div class="line">      {21.082, 9.794, 0},  {21.100, 9.749, 0},  {21.118, 9.705, 0},  {21.136, 9.660, 0},</div><div class="line">      {21.154, 9.616, 0},  {21.172, 9.571, 0},  {21.189, 9.527, 0},  {21.207, 9.482, 0},</div><div class="line">      {21.225, 9.437, 0},  {21.243, 9.393, 0},  {21.261, 9.348, 0},  {25.000, 0.000, 0}};</div><div class="line">    <a class="codeRef" doxygen="/home/conan/Doxygen/xmscore.tag:https://aquaveo.github.io/xmscore/" href="https://aquaveo.github.io/xmscore/_test_tools_8h.html#ad074895a54cf874aed416e323758f355">TS_ASSERT_DELTA_VECPT3D</a>(expectedPts, outPts, 1e-3);</div><div class="line">  }</div><div class="line">} <span class="comment">// TutRedistributionIntermediateTests::test_Example_Redistribute_Curvature</span></div></div><!-- fragment --><p> An image of the redistributed polyline from this example is shown below.</p>
<div class="image">
<img src="tutRedist_Curvature_Output.png" alt="tutRedist_Curvature_Output.png"/>
<div class="caption">
Output polyline</div></div>
 <h2><a class="anchor" id="Example_Redistribution_Curvature_Polygon"></a>
Example - Redistribute Simple Polygon using Curvature</h2>
<p>This example shows how to redistribute a polygon. It is the same as the previous example except that this is a closed polygon instead of a polyline. The input is shown below.</p>
<div class="image">
<img src="tutRedist_Curvature_Polygon_Input.png" alt="tutRedist_Curvature_Polygon_Input.png"/>
<div class="caption">
Input polyline</div></div>
 <div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="class_tut_redistribution_intermediate_tests.html#a83304d7a642141e74a4c3bce7361e4c8">TutRedistributionIntermediateTests::test_Example_Redistribute_Polygon_Curvature</a>()</div><div class="line">{</div><div class="line">  xms::VecPt3d polyline = {{0, 0, 0},   {5, 5, 0},   {10, 10, 0}, {15, 5, 0},</div><div class="line">                           {20, 10, 0}, {21, 10, 0}, {25, 0, 0},  {0, 0, 0}};</div><div class="line">  <span class="comment">// create the redistribution class</span></div><div class="line">  BSHP&lt;xms::MePolyRedistributePts&gt; redist = <a class="code" href="classxms_1_1_me_poly_redistribute_pts.html#a022428867bdc83af2bb0550a752390bd">xms::MePolyRedistributePts::New</a>();</div><div class="line">  <span class="comment">// set the redistribution class to curvature</span></div><div class="line">  <span class="keywordtype">double</span> featureSize(3.0), meanSpacing(0.5), minimumCurvature(.0001);</div><div class="line">  <span class="keywordtype">bool</span> smooth(<span class="keyword">false</span>);</div><div class="line">  redist-&gt;SetUseCurvatureRedistribution(featureSize, meanSpacing, minimumCurvature, smooth);</div><div class="line">  <span class="comment">// redistribute the points</span></div><div class="line">  xms::VecPt3d outPts = redist-&gt;Redistribute(polyline);</div><div class="line">  {</div><div class="line">    xms::VecPt3d expectedPts = {</div><div class="line">      {0.000, 0.000, 0},   {0.042, 0.042, 0},   {0.084, 0.084, 0},   {0.126, 0.126, 0},</div><div class="line">      {0.168, 0.168, 0},   {0.210, 0.210, 0},   {0.252, 0.252, 0},   {0.294, 0.294, 0},</div><div class="line">      {0.336, 0.336, 0},   {0.378, 0.378, 0},   {0.420, 0.420, 0},   {0.462, 0.462, 0},</div><div class="line">      {0.505, 0.505, 0},   {9.491, 9.491, 0},   {9.546, 9.546, 0},   {9.601, 9.601, 0},</div><div class="line">      {9.655, 9.655, 0},   {9.710, 9.710, 0},   {9.765, 9.765, 0},   {9.820, 9.820, 0},</div><div class="line">      {9.875, 9.875, 0},   {9.930, 9.930, 0},   {9.985, 9.985, 0},   {10.040, 9.960, 0},</div><div class="line">      {10.095, 9.905, 0},  {10.150, 9.850, 0},  {10.205, 9.795, 0},  {10.260, 9.740, 0},</div><div class="line">      {10.315, 9.685, 0},  {10.370, 9.630, 0},  {10.424, 9.576, 0},  {10.479, 9.521, 0},</div><div class="line">      {14.474, 5.526, 0},  {14.529, 5.471, 0},  {14.584, 5.416, 0},  {14.639, 5.361, 0},</div><div class="line">      {14.693, 5.307, 0},  {14.748, 5.252, 0},  {14.803, 5.197, 0},  {14.858, 5.142, 0},</div><div class="line">      {14.913, 5.087, 0},  {14.968, 5.032, 0},  {15.023, 5.023, 0},  {15.078, 5.078, 0},</div><div class="line">      {15.133, 5.133, 0},  {15.188, 5.188, 0},  {15.243, 5.243, 0},  {15.298, 5.298, 0},</div><div class="line">      {15.353, 5.353, 0},  {15.408, 5.408, 0},  {15.462, 5.462, 0},  {15.517, 5.517, 0},</div><div class="line">      {19.495, 9.495, 0},  {19.529, 9.529, 0},  {19.562, 9.562, 0},  {19.596, 9.596, 0},</div><div class="line">      {19.629, 9.629, 0},  {19.662, 9.662, 0},  {19.696, 9.696, 0},  {19.729, 9.729, 0},</div><div class="line">      {19.763, 9.763, 0},  {19.796, 9.796, 0},  {19.830, 9.830, 0},  {19.863, 9.863, 0},</div><div class="line">      {19.897, 9.897, 0},  {19.930, 9.930, 0},  {19.964, 9.964, 0},  {19.997, 9.997, 0},</div><div class="line">      {20.043, 10.000, 0}, {20.090, 10.000, 0}, {20.138, 10.000, 0}, {20.185, 10.000, 0},</div><div class="line">      {20.232, 10.000, 0}, {20.779, 10.000, 0}, {20.826, 10.000, 0}, {20.873, 10.000, 0},</div><div class="line">      {20.919, 10.000, 0}, {20.966, 10.000, 0}, {21.005, 9.988, 0},  {21.022, 9.945, 0},</div><div class="line">      {21.039, 9.901, 0},  {21.057, 9.858, 0},  {21.074, 9.815, 0},  {21.092, 9.771, 0},</div><div class="line">      {21.109, 9.728, 0},  {21.126, 9.684, 0},  {21.144, 9.641, 0},  {21.161, 9.598, 0},</div><div class="line">      {21.178, 9.554, 0},  {21.196, 9.511, 0},  {21.213, 9.467, 0},  {21.230, 9.424, 0},</div><div class="line">      {21.248, 9.381, 0},  {21.265, 9.337, 0},  {24.727, 0.682, 0},  {24.752, 0.621, 0},</div><div class="line">      {24.776, 0.559, 0},  {24.801, 0.498, 0},  {24.826, 0.436, 0},  {24.850, 0.375, 0},</div><div class="line">      {24.875, 0.313, 0},  {24.899, 0.251, 0},  {24.924, 0.190, 0},  {24.949, 0.128, 0},</div><div class="line">      {24.973, 0.067, 0},  {24.998, 0.005, 0},  {24.939, 0.000, 0},  {24.873, 0.000, 0},</div><div class="line">      {24.806, 0.000, 0},  {24.740, 0.000, 0},  {24.674, 0.000, 0},  {24.607, 0.000, 0},</div><div class="line">      {24.541, 0.000, 0},  {24.475, 0.000, 0},  {24.408, 0.000, 0},  {24.342, 0.000, 0},</div><div class="line">      {24.276, 0.000, 0},  {0.713, 0.000, 0},   {0.654, 0.000, 0},   {0.595, 0.000, 0},</div><div class="line">      {0.535, 0.000, 0},   {0.476, 0.000, 0},   {0.416, 0.000, 0},   {0.357, 0.000, 0},</div><div class="line">      {0.297, 0.000, 0},   {0.238, 0.000, 0},   {0.178, 0.000, 0},   {0.119, 0.000, 0},</div><div class="line">      {0.059, 0.000, 0},   {0.000, 0.000, 0}};</div><div class="line">    <a class="codeRef" doxygen="/home/conan/Doxygen/xmscore.tag:https://aquaveo.github.io/xmscore/" href="https://aquaveo.github.io/xmscore/_test_tools_8h.html#ad074895a54cf874aed416e323758f355">TS_ASSERT_DELTA_VECPT3D</a>(expectedPts, outPts, 1e-3);</div><div class="line">  }</div><div class="line">} <span class="comment">// TutRedistributionIntermediateTests::test_Example_Redistribute_Polygon_Curvature</span></div></div><!-- fragment --><p> An image of the redistributed polygon from this example is shown below.</p>
<div class="image">
<img src="tutRedist_Curvature_Polygon_Output.png" alt="tutRedist_Curvature_Polygon_Output.png"/>
<div class="caption">
Output polyline</div></div>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Dec 4 2018 16:52:20 for xmsmesh by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
